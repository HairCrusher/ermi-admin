<form nz-form [formGroup]="form">
  <nz-row [nzGutter]="[16, 16]">
    <nz-col nzSpan="24">
      <app-product-images formControlName="images"></app-product-images>
    </nz-col>
    <nz-col nzSpan="24">
      <nz-form-item>
        <nz-form-label>Description</nz-form-label>
        <nz-form-control>
          <textarea nz-input formControlName="desc"></textarea>
        </nz-form-control>
      </nz-form-item>
    </nz-col>
    <nz-col nzSpan="8">
      <nz-form-item>
        <nz-form-label [nzRequired]="true">Price</nz-form-label>
        <nz-form-control>
          <input nz-input formControlName="price">
        </nz-form-control>
      </nz-form-item>
    </nz-col>
    <nz-col nzSpan="8">
      <nz-form-item>
        <nz-form-label>Discount price</nz-form-label>
        <nz-form-control>
          <input nz-input formControlName="discount_price">
        </nz-form-control>
      </nz-form-item>
    </nz-col>
    <nz-col nzSpan="8">
      <nz-form-item>
        <nz-form-label>Weight</nz-form-label>
        <nz-form-control>
          <input nz-input formControlName="weight">
        </nz-form-control>
      </nz-form-item>
    </nz-col>
    <nz-col nzSpan="8">
      <nz-form-item>
        <nz-form-label>Is discount</nz-form-label>
        <nz-form-control>
          <nz-switch formControlName="is_discount"></nz-switch>
        </nz-form-control>
      </nz-form-item>
    </nz-col>
    <nz-col nzSpan="8">
      <nz-form-item>
        <nz-form-label>Is available</nz-form-label>
        <nz-form-control>
          <nz-switch formControlName="is_available"></nz-switch>
        </nz-form-control>
      </nz-form-item>
    </nz-col>
    <nz-col nzSpan="8">
      <nz-form-item>
        <nz-form-label>In stock quantity</nz-form-label>
        <nz-form-control>
          <input nz-input formControlName="in_stock_qty">
        </nz-form-control>
      </nz-form-item>
    </nz-col>
  </nz-row>

  <hr>

  <nz-row [nzGutter]="[16, 16]" formArrayName="attrs">
    <nz-col [nzLg]="8" *ngFor="let attrVal of form.get('attrs').value; let i = index; trackBy: trackByAttrVal">
      <nz-form-item [formGroupName]="i">
        <nz-form-label class="attr">
          <span>{{attrVal.attribute.name}}</span>
          <div class="actions">
            <button nz-button nzType="link" (click)="editAttribute(i)" [disabled]="!isEdit" nzShape="circle">
              <fa-icon [icon]="icons.faPenAlt"></fa-icon>
            </button>
            <button nz-button nzType="link" (click)="removeAttribute(i)" [disabled]="!isEdit" nzShape="circle">
              <fa-icon [icon]="icons.faTrashAlt"></fa-icon>
            </button>
          </div>
        </nz-form-label>
        <nz-form-control>
          <p class="attr-value">{{attrVal.value}}</p>
        </nz-form-control>
      </nz-form-item>
    </nz-col>
    <nz-col>
      <nz-form-item>
        <nz-form-control nzSpan="24">
          <button nz-button nzType="dashed" class="remove-button" (click)="addAttribute()" [disabled]="!isEdit">
            <i nz-icon nzType="plus"></i>
            Add attribute
          </button>
        </nz-form-control>
      </nz-form-item>
    </nz-col>
    <nz-col nzSpan="24">
      <nz-form-item>
        <nz-form-control nzSpan="24">
          <button nz-button nzType="danger" class="remove-button" (click)="removeVariant()" [disabled]="!isEdit">
            <i nz-icon nzType="minus"></i>
            Remove variant
          </button>
        </nz-form-control>
      </nz-form-item>
    </nz-col>
  </nz-row>

</form>
